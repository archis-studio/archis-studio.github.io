{% comment %}
  Post Card Component
  Reusable card for displaying post preview
  Used in: posts archive, category pages
  
  Required variable: post (the post object)
{% endcomment %}

<article class="post-card">
  <!-- Post Image or Placeholder -->
  {% if post.header.teaser %}
  <div class="post-card__image">
    <a href="{{ post.url | relative_url }}">
      <img src="{{ post.header.teaser | relative_url }}" alt="{{ post.title }}">
    </a>
  </div>
  {% else %}
  <div class="post-card__placeholder">
    <a href="{{ post.url | relative_url }}" style="display: block; width: 100%; height: 100%;"></a>
  </div>
  {% endif %}

  <!-- Post Content -->
  <div class="post-card__content">
    <!-- Categories -->
    {% if post.categories.size > 0 %}
    <div class="post-card__categories">
      {% for category in post.categories %}
        <span class="category-tag">{{ category }}</span>
      {% endfor %}
    </div>
    {% endif %}

    <!-- Title -->
    <h2 class="post-card__title">
      <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
    </h2>

    <!-- Excerpt -->
    {% if post.excerpt %}
    <p class="post-card__excerpt">{{ post.excerpt | strip_html | truncate: 120 }}</p>
    {% endif %}

    <!-- Meta Info -->
    <div class="post-card__meta">
      <time class="post-date" datetime="{{ post.date | date_to_xmlschema }}">
        {{ post.date | date: "%Y.%m.%d" }}
      </time>
      {% if post.tags.size > 0 %}
      <div class="post-tags">
        {% for tag in post.tags limit:3 %}
          <span class="tag">#{{ tag }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </div>
</article>
