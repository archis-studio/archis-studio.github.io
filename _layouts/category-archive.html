---
layout: default
---

{% assign category_posts = site.categories[page.category] | where_exp: "post", "post.draft != true" | sort: "date" | reverse %}

<div class="post-container">
  <article class="post-single">
    
    <!-- Category Header -->
    <header class="post-header category-archive-header">
      
      <!-- Category Icon & Title -->
      <div class="category-hero-compact">
        <span class="category-icon-large">{{ page.icon }}</span>
        <div class="category-info">
          <h1 class="post-title category-title">{{ page.title }}</h1>
          <p class="category-subtitle">{{ page.subtitle }}</p>
        </div>
      </div>

      <!-- Category Meta -->
      <div class="post-meta category-meta">
        <span class="meta-item">
          <svg class="icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M2 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H3v2.5a.5.5 0 0 1-1 0v-3zm12 0a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1H13v2.5a.5.5 0 0 0 1 0v-3zm-12 12a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1H3v-2.5a.5.5 0 0 0-1 0v3zm12 0a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H13v-2.5a.5.5 0 0 1 1 0v3z"/>
          </svg>
          {{ category_posts.size }} 篇文章
        </span>
        <span class="meta-divider">·</span>
        <span class="meta-item">{{ page.category }}</span>
      </div>
    </header>

    <!-- Posts List -->
    <div class="post-content category-posts-list">
      {% if category_posts.size > 0 %}
        {% for post in category_posts %}
          <article class="category-post-item">
            <div class="post-item-header">
              <time class="post-date" datetime="{{ post.date | date_to_xmlschema }}">
                {{ post.date | date: "%Y.%m.%d" }}
              </time>
              {% if post.tags %}
                <div class="post-tags">
                  {% for tag in post.tags limit:3 %}
                    <span class="tag">#{{ tag }}</span>
                  {% endfor %}
                </div>
              {% endif %}
            </div>
            
            <h2 class="post-item-title">
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </h2>
            
            {% if post.excerpt %}
              <p class="post-item-excerpt">{{ post.excerpt | strip_html | truncatewords: 30 }}</p>
            {% endif %}
            
            <div class="post-item-footer">
              <a href="{{ post.url | relative_url }}" class="read-more-link">
                閱讀全文 <span class="arrow">→</span>
              </a>
              {% assign words = post.content | number_of_words %}
              {% assign reading_time = words | divided_by: 200 | plus: 1 %}
              <span class="reading-time">約 {{ reading_time }} 分鐘</span>
            </div>
          </article>
          
          {% unless forloop.last %}
          <hr class="post-divider">
          {% endunless %}
        {% endfor %}
      {% else %}
        <div class="empty-state">
          <div class="empty-icon">🌌</div>
          <h3>此區域尚未開放</h3>
          <p>暫無文章，敬請期待未來更新</p>
          <a href="/categories/" class="back-link">← 返回分類導航</a>
        </div>
      {% endif %}
    </div>

    <!-- Back to Categories Link -->
    <footer class="post-footer">
      <nav class="category-navigation">
        <a href="/categories/" class="nav-link nav-link--back">
          <span class="nav-label">← 返回分類導航</span>
        </a>
      </nav>
    </footer>

  </article>

  <!-- Category Sidebar -->
  <aside class="post-toc">
    <div class="toc-sticky">
      <h2 class="toc-title">分類資訊</h2>
      
      <div class="category-sidebar-info">
        <div class="sidebar-section">
          <h3 class="sidebar-section-title">統計</h3>
          <ul class="sidebar-stats">
            <li>
              <span class="stat-label">文章數量</span>
              <span class="stat-value">{{ category_posts.size }}</span>
            </li>
            {% if category_posts.size > 0 %}
            <li>
              <span class="stat-label">最新更新</span>
              <span class="stat-value">{{ category_posts.first.date | date: "%Y.%m" }}</span>
            </li>
            {% endif %}
          </ul>
        </div>

        {% if category_posts.size > 0 %}
        <div class="sidebar-section">
          <h3 class="sidebar-section-title">標籤</h3>
          <div class="sidebar-tags">
            {% assign all_tags = "" | split: "" %}
            {% for post in category_posts %}
              {% for tag in post.tags %}
                {% unless all_tags contains tag %}
                  {% assign all_tags = all_tags | push: tag %}
                {% endunless %}
              {% endfor %}
            {% endfor %}
            
            {% for tag in all_tags limit:10 %}
              <a href="/tags/#{{ tag | slugify }}" class="sidebar-tag">#{{ tag }}</a>
            {% endfor %}
          </div>
        </div>
        {% endif %}

        <div class="sidebar-section">
          <h3 class="sidebar-section-title">其他分類</h3>
          <nav class="sidebar-categories">
            <a href="/categories/ai-tools/" class="sidebar-cat-link">🤖 AI Tools</a>
            <a href="/categories/data-science/" class="sidebar-cat-link">📊 Data Science</a>
            <a href="/categories/software-dev/" class="sidebar-cat-link">💻 Software Dev</a>
            <a href="/categories/quant-trading/" class="sidebar-cat-link">📈 Quant Trading</a>
            <a href="/categories/growth/" class="sidebar-cat-link">🌱 Growth</a>
            <a href="/categories/green-energy/" class="sidebar-cat-link">🔋 Green Energy</a>
            <a href="/categories/marketing/" class="sidebar-cat-link">📣 Marketing</a>
            <a href="/categories/reading/" class="sidebar-cat-link">📚 Reading</a>
          </nav>
        </div>
      </div>
    </div>
  </aside>
</div>
